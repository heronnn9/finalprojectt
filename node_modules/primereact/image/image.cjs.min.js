"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("react"),t=require("primereact/api"),n=require("primereact/csstransition"),r=require("primereact/hooks"),o=require("primereact/portal"),l=require("primereact/utils"),a=require("primereact/iconbase"),c=require("primereact/icons/refresh"),i=require("primereact/icons/eye"),u=require("primereact/icons/undo"),s=require("primereact/icons/searchminus"),m=require("primereact/icons/searchplus"),p=require("primereact/icons/times");function f(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}function d(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach((function(n){if("default"!==n){var r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:function(){return e[n]}})}})),t.default=e,Object.freeze(t)}var g=d(e),v=f(t);function I(){return I=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},I.apply(this,arguments)}function h(e){if(Array.isArray(e))return e}function C(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,l,a,c=[],i=!0,u=!1;try{if(l=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;i=!1}else for(;!(i=(r=l.call(n)).done)&&(c.push(r.value),c.length!==t);i=!0);}catch(e){u=!0,o=e}finally{try{if(!i&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return c}}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function E(e,t){if(e){if("string"==typeof e)return b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?b(e,t):void 0}}function y(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function w(e,t){return h(e)||C(e,t)||E(e,t)||y()}var S={defaultProps:{__TYPE:"Image",alt:null,className:null,downloadable:!1,downloadIcon:null,rotateRightIcon:null,rotateLeftIcon:null,zoomOutIcon:null,zoomInIcon:null,closeIcon:null,height:null,imageClassName:null,imageStyle:null,onError:null,onHide:null,onShow:null,preview:!1,indicatorIcon:null,src:null,template:null,width:null,zoomSrc:null,children:void 0},getProps:function(e){return l.ObjectUtils.getMergedProps(e,S.defaultProps)},getOtherProps:function(e){return l.ObjectUtils.getDiffProps(e,S.defaultProps)}},O=g.memo(g.forwardRef((function(e,t){var n=a.IconBase.getPTI(e);return g.createElement("svg",I({ref:t,width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n),g.createElement("g",{clipPath:"url(#clip0_407_20832)"},g.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.0118 10C6.93296 10.0003 6.85484 9.98495 6.78202 9.95477C6.7091 9.92454 6.64297 9.88008 6.58749 9.82399L3.38288 6.62399C3.27675 6.51025 3.21897 6.35982 3.22171 6.20438C3.22446 6.04893 3.28752 5.90063 3.39761 5.7907C3.5077 5.68077 3.65622 5.6178 3.81188 5.61505C3.96755 5.61231 4.1182 5.67001 4.23211 5.77599L6.41125 7.95201V0.6C6.41125 0.44087 6.47456 0.288258 6.58724 0.175736C6.69993 0.063214 6.85276 0 7.01212 0C7.17148 0 7.32431 0.063214 7.43699 0.175736C7.54968 0.288258 7.61298 0.44087 7.61298 0.6V7.95198L9.7921 5.77599C9.90601 5.67001 10.0567 5.61231 10.2123 5.61505C10.368 5.6178 10.5165 5.68077 10.6266 5.7907C10.7367 5.90063 10.7997 6.04893 10.8025 6.20438C10.8052 6.35982 10.7475 6.51025 10.6413 6.62399L7.43671 9.82399C7.38124 9.88008 7.3151 9.92454 7.24219 9.95477C7.16938 9.98495 7.09127 10.0003 7.01244 10C7.01233 10 7.01223 10 7.01212 10C7.01201 10 7.0119 10 7.0118 10ZM13.45 13.3115C13.0749 13.7235 12.5521 13.971 11.9952 14H2.02889C1.75106 13.9887 1.47819 13.9228 1.2259 13.806C0.973606 13.6893 0.74684 13.524 0.558578 13.3197C0.370316 13.1153 0.224251 12.8759 0.128742 12.6152C0.0332333 12.3544 -0.00984502 12.0774 0.00197194 11.8V9.39999C0.00197194 9.24086 0.065277 9.08825 0.177961 8.97572C0.290645 8.8632 0.443477 8.79999 0.602836 8.79999C0.762195 8.79999 0.915027 8.8632 1.02771 8.97572C1.1404 9.08825 1.2037 9.24086 1.2037 9.39999V11.8C1.18301 12.0375 1.25469 12.2739 1.40385 12.4601C1.55302 12.6463 1.76823 12.768 2.00485 12.8H11.9952C12.2318 12.768 12.4471 12.6463 12.5962 12.4601C12.7454 12.2739 12.8171 12.0375 12.7964 11.8V9.39999C12.7964 9.24086 12.8597 9.08825 12.9724 8.97572C13.085 8.8632 13.2379 8.79999 13.3972 8.79999C13.5566 8.79999 13.7094 8.8632 13.8221 8.97572C13.9348 9.08825 13.9981 9.24086 13.9981 9.39999V11.8C14.0221 12.3563 13.8251 12.8995 13.45 13.3115Z",fill:"currentColor"})),g.createElement("defs",null,g.createElement("clipPath",{id:"clip0_407_20832"},g.createElement("rect",{width:"14",height:"14",fill:"white"}))))})));O.displayName="DownloadIcon";var N=g.memo(g.forwardRef((function(e,a){var f=S.getProps(e),d=w(g.useState(!1),2),h=d[0],C=d[1],b=w(g.useState(!1),2),E=b[0],y=b[1],N=w(g.useState(0),2),P=N[0],j=N[1],k=w(g.useState(1),2),U=k[0],x=k[1],q=g.useRef(null),R=g.useRef(null),_=g.useRef(null),z=g.useRef(null),H=g.useRef(!1),J=function(){f.preview&&(C(!0),setTimeout((function(){y(!0)}),25))},X=function(){H.current||(y(!1),j(0),x(1)),H.current=!1},A=function(){H.current=!0},M=function(){l.DomHandler.saveAs({name:f.alt,src:f.src}),H.current=!0},T=function(){j((function(e){return e+90})),H.current=!0},L=function(){j((function(e){return e-90})),H.current=!0},V=function(){x((function(e){return e+.1})),H.current=!0},Z=function(){x((function(e){return e-.1})),H.current=!0},D=function(){l.ZIndexUtils.set("modal",_.current,v.default.autoZIndex,v.default.zIndex.modal)},B=function(){f.onShow&&f.onShow()},Y=function(){l.DomHandler.addClass(_.current,"p-component-overlay-leave")},$=function(){f.onHide&&f.onHide()},F=function(){l.ZIndexUtils.clear(_.current),C(!1)};r.useUnmountEffect((function(){_.current&&l.ZIndexUtils.clear(_.current)}));g.useImperativeHandle(a,(function(){return{props:f,show:J,hide:X,getElement:function(){return q.current},getImage:function(){return R.current}}}));var G,K,Q,W,ee,te,ne,re,oe,le=f.src,ae=f.alt,ce=f.width,ie=f.height,ue=S.getOtherProps(f),se=l.classNames("p-image p-component",f.className,{"p-image-preview-container":f.preview}),me=(G=f.downloadable,K={transform:"rotate("+P+"deg) scale("+U+")"},Q=U<=.5||U>=1.5,W=l.IconUtils.getJSXIcon(f.downloadIcon||g.createElement(O,null),void 0,{props:f}),ee=l.IconUtils.getJSXIcon(f.rotateRightIcon||g.createElement(c.RefreshIcon,null),void 0,{props:f}),te=l.IconUtils.getJSXIcon(f.rotateLeftIcon||g.createElement(u.UndoIcon,null),void 0,{props:f}),ne=l.IconUtils.getJSXIcon(f.zoomOutIcon||g.createElement(s.SearchMinusIcon,null),void 0,{props:f}),re=l.IconUtils.getJSXIcon(f.zoomInIcon||g.createElement(m.SearchPlusIcon,null),void 0,{props:f}),oe=l.IconUtils.getJSXIcon(f.closeIcon||g.createElement(p.TimesIcon,null),void 0,{props:f}),g.createElement("div",{ref:_,className:"p-image-mask p-component-overlay p-component-overlay-enter",onClick:X},g.createElement("div",{className:"p-image-toolbar"},G&&g.createElement("button",{className:"p-image-action p-link",onClick:M,type:"button"},W),g.createElement("button",{className:"p-image-action p-link",onClick:T,type:"button"},ee),g.createElement("button",{className:"p-image-action p-link",onClick:L,type:"button"},te),g.createElement("button",{className:"p-image-action p-link",onClick:Z,type:"button",disabled:Q},ne),g.createElement("button",{className:"p-image-action p-link",onClick:V,type:"button",disabled:Q},re),g.createElement("button",{className:"p-image-action p-link",type:"button","aria-label":t.localeOption("close")},oe)),g.createElement(n.CSSTransition,{nodeRef:z,classNames:"p-image-preview",in:E,timeout:{enter:150,exit:150},unmountOnExit:!0,onEntering:D,onEntered:B,onExit:Y,onExiting:$,onExited:F},g.createElement("div",{ref:z},g.createElement("img",{src:f.zoomSrc||f.src,className:"p-image-preview",style:K,onClick:A,alt:f.alt}))))),pe="p-image-preview-icon",fe=l.IconUtils.getJSXIcon(f.indicatorIcon||g.createElement(i.EyeIcon,{className:pe}),{className:pe},{props:f}),de=f.template?l.ObjectUtils.getJSXElement(f.template,f):fe,ge=f.preview?g.createElement("div",{className:"p-image-preview-indicator",onClick:J},de):null,ve=f.src&&g.createElement("img",{ref:R,src:le,className:f.imageClassName,width:ce,height:ie,style:f.imageStyle,alt:ae,onError:f.onError});return g.createElement("span",I({ref:q,className:se},ue),ve,ge,h&&g.createElement(o.Portal,{element:me,appendTo:document.body}))})));N.displayName="Image",exports.Image=N;
